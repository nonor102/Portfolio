<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overflow Clicker - nonor102 Portfolio</title>
    <link rel="stylesheet" href="../css/detail.css">
</head>
<body>
    <nav class="detail-nav">
        <div class="container">
            <a href="../index.html" class="logo">nonor102</a>
            <a href="../index.html#works" class="back-link">â† Works ã«æˆ»ã‚‹</a>
        </div>
    </nav>

    <section class="detail-hero">
        <div class="container">
            <h1>Overflow Clicker</h1>
            <p class="subtitle">C#ã®æ•°å€¤å‹ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’æ´»ç”¨ã—ãŸã‚¯ãƒªãƒƒã‚«ãƒ¼Ã—ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã‚²ãƒ¼ãƒ </p>
            <div class="tags">
                <span class="tag">Unity</span>
                <span class="tag">C#</span>
                <span class="tag">2D</span>
                <span class="tag">ã‚¯ãƒªãƒƒã‚«ãƒ¼</span>
                <span class="tag">ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«</span>
            </div>
        </div>
    </section>

    <section class="detail-content">
        <div class="container">
            <div class="detail-grid">
                <!-- å·¦: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚®ãƒ£ãƒ©ãƒªãƒ¼ -->
                <div class="detail-gallery">
                    <div class="gallery-main">
                        <img id="mainImage" src="../img/OFC/welcome.png" alt="Overflow Clickerã®ã‚¦ã‚§ãƒ«ã‚«ãƒ ã‚·ãƒ¼ãƒ³ã®ç”»é¢">
                    </div>
                    <div class="gallery-thumbs">
                        <img src="../img/OFC/welcome.png" alt="ã‚¦ã‚§ãƒ«ã‚«ãƒ ç”»é¢" class="active" onclick="changeImage(this)">
                        <img src="../img/OFC/Alpha.png" alt="ã€ŒAlphaã€ã‚¿ãƒ–ã®ç”»é¢" onclick="changeImage(this)">
                        <img src="../img/OFC/Beta.png" alt="ã€ŒBetaã€ã‚¿ãƒ–ã®ç”»é¢" onclick="changeImage(this)">
                    </div>
                </div>

                <!-- å³: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ± -->
                <div class="detail-info">
                    <div class="info-section">
                        <h2>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</h2>
                        <div class="project-meta">
                            <span class="meta-label">ã‚¸ãƒ£ãƒ³ãƒ«</span>
                            <span class="meta-value">ã‚¯ãƒªãƒƒã‚«ãƒ¼ / ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã‚²ãƒ¼ãƒ </span>
                            <span class="meta-label">é–‹ç™ºç’°å¢ƒ</span>
                            <span class="meta-value">Unity / C#</span>
                            <span class="meta-label">ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </span>
                            <span class="meta-value">PC (Windows)</span>
                            <span class="meta-label">é–‹ç™ºäººæ•°</span>
                            <span class="meta-value">1äºº (å€‹äººé–‹ç™º) </span>
                        </div>
                    </div>

                    <div class="info-section">
                        <h2>ä¸»ãªç‰¹å¾´</h2>
                        <ul class="features-list">
                            <li>C#ã®æ•°å€¤å‹ (short, int, long ãªã©) ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ã‚²ãƒ¼ãƒ é€²è¡Œã®ä¸­å¿ƒã«æ®ãˆãŸè¨­è¨ˆ</li>
                            <li>ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼å¾Œã€åˆ¥ã®æ•°å€¤å‹ã§ã‚¹ã‚³ã‚¢ã‚’ç²å¾—ã—ã€ã•ã‚‰ã«ãã®å‹ã§ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’ç›®æŒ‡ã™</li>
                            <li>ã‚²ãƒ¼ãƒ ã®é€²è¡Œã«ã¤ã‚Œã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã¾ã§ã®é“ã®ã‚ŠãŒçŸ­ããªã‚‹ãƒãƒ©ãƒ³ã‚¹èª¿æ•´</li>
                            <li>å‡„ã¾ã˜ã„ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹çˆ½å¿«ãªã‚²ãƒ¼ãƒ ä½“é¨“</li>
                        </ul>
                    </div>

                    <div class="detail-actions">
                        <a href="https://github.com/nonor102/OverflowClicker" target="_blank" class="detail-btn-primary">GitHub ã§è¦‹ã‚‹</a>
                        <!-- <a href="#" class="detail-btn-secondary">ãƒ‡ãƒ¢ã‚’è©¦ã™</a> -->
                    </div>
                </div>
            </div>

            <!-- è©³ç´°èª¬æ˜ -->
            <div class="detail-full-section">
                <h2>ä½œå“ã«ã¤ã„ã¦</h2>
                <p>
                    Overflow Clickerã¯ã€Unityã¨C#ã‚’ç”¨ã„ã¦é–‹ç™ºã—ã¦ã„ã‚‹2Dã‚¯ãƒªãƒƒã‚«ãƒ¼ã‚²ãƒ¼ãƒ ã§ã™ã€‚
                    ã‚¯ãƒªãƒƒã‚«ãƒ¼ã‚²ãƒ¼ãƒ ã¨ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã‚²ãƒ¼ãƒ ã®è¦ç´ ã‚’çµ„ã¿åˆã‚ã›ã€C#ã®æ•°å€¤å‹ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã¨ã„ã†ä»•çµ„ã¿ã‚’ã‚²ãƒ¼ãƒ ã®æ ¸ã¨ã—ã¦æ´»ç”¨ã—ã¦ã„ã¾ã™ã€‚
                </p>
                <p>
                    ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ã‚¯ãƒªãƒƒã‚¯ã‚„ã‚ªãƒ¼ãƒˆã‚¯ãƒªãƒƒã‚«ãƒ¼ã§ã‚¹ã‚³ã‚¢ã‚’å¢—åŠ ã•ã›ã€æ•°å€¤å‹ã®ä¸Šé™ã«åˆ°é”ã™ã‚‹ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚
                    ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼å¾Œã¯æ–°ãŸãªæ•°å€¤å‹ã®ã‚¹ã‚³ã‚¢ã‚’ç²å¾—ã§ãã€ã•ã‚‰ã«ãã®å‹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã•ã›ã‚‹ã“ã¨ãŒã‚²ãƒ¼ãƒ ã®ç›®çš„ã¨ãªã‚Šã¾ã™ã€‚
                </p>
                <p>
                    ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ã®è¨­è¨ˆã«ã“ã ã‚ã‚Šã€é€²è¡Œã™ã‚‹ã«ã¤ã‚Œã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã¾ã§ã®é“ã®ã‚ŠãŒçŸ­ããªã‚‹ã‚ˆã†ã«èª¿æ•´ã—ã¾ã—ãŸã€‚
                    ã“ã‚Œã«ã‚ˆã‚Šã€å‡„ã¾ã˜ã„ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹çˆ½å¿«æ„Ÿã®ã‚ã‚‹ã‚²ãƒ¼ãƒ ä½“é¨“ã‚’æä¾›ã—ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã€Œã‚‚ã†å°‘ã—å…ˆã¾ã§é€²ã‚ãŸã„ã€ã¨æ„Ÿã˜ã•ã›ã‚‹ã‚µã‚¤ã‚¯ãƒ«ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚
                </p>
                <p>
                    æ•°å€¤å‹ã¯ç¾åœ¨5ç¨®é¡ã§è€ƒãˆã¦ãŠã‚Šã€sbyteã€shortã€intã€longã€doubleã¨ã—ã¦ã„ã¾ã™ã€‚
                    ãã‚Œãã‚Œã®ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’Alphaã€Betaã€Gammaã€Deltaã€Epsilonã¨å‘½åã—ã¦ãŠã‚Šã€ã‚¿ãƒ–ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§å„ã‚¹ãƒ†ãƒ¼ã‚¸ã®ç”»é¢ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
                </p>
                <p>
                    Alphaã‚’é™¤ãå„ã‚¿ãƒ–å†…ã§ã¯ã€ä»Šã¾ã§ã«å–å¾—ã—ãŸã‚¹ã‚³ã‚¢ã‚’åˆ©ç”¨ã™ã‚‹å­ã‚¿ãƒ–ã‚’è¤‡æ•°ç”¨æ„ã—ã€æ¬¡ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã¸ã®é“ã®ã‚Šã‚’çŸ­ãã™ã‚‹ãŸã‚ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ãŒã€
                    ã™ã¹ã¦ã®è¦ç´ ã‚’ä½¿ã‚ãšã¨ã‚‚ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã•ã›ã‚‹ã“ã¨ã¯å¯èƒ½ãªãƒãƒ©ãƒ³ã‚¹ã«èª¿æ•´ã—ã¦ã„ã¾ã™ã€‚
                </p>
                <p>
                    ç¾åœ¨ã¯ã¾ã é–‹ç™ºé€”ä¸­ã§ã™ã®ã§ã€ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰ãŒãƒ¡ã‚¤ãƒ³ã§ã™ãŒã€ä»Šå¾Œã¯UI/UXã®æ”¹å–„ã€ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ãªã©ã‚’é‡ã­ã¦ã€æœ€çµ‚çš„ã«ã¯Unityroomã§å…¬é–‹ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚
                </p>
            </div>

            <!-- ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç´¹ä»‹ -->
            <div class="code-showcase">
                <h2>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç´¹ä»‹</h2>

                <!-- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ 1: BetaUpgrade.cs -->
                <div class="code-block-wrapper">
                    <div class="code-block-header" onclick="toggleCodeBlock(event)">
                        <div class="code-block-toggle">
                            <span class="code-toggle-icon">â–¼</span>
                            <span class="filename">/ScriptableObjectsScript/BetaUpgrade.cs</span>
                        </div>
                        <span class="language-badge">C#</span>
                    </div>
                    <div class="code-block-body">
<pre><code><span class="code-keyword">using</span> System.Collections;
<span class="code-keyword">using</span> System.Collections.Generic;
<span class="code-keyword">using</span> UnityEngine;

<span class="code-keyword">public enum</span> <span class="code-type">BetaUpgradeStatus</span>
{
    Locked,    <span class="code-comment">// æœªé–‹æ”¾</span>
    Available, <span class="code-comment">// è§£æ”¾å¯èƒ½</span>
    Completed  <span class="code-comment">// è§£æ”¾æ¸ˆã¿</span>
}

[<span class="code-attribute">CreateAssetMenu</span>(fileName = <span class="code-string">"BetaUpgrade"</span>, menuName = <span class="code-string">"ScriptableObjects/Create Beta Upgrade"</span>)]
<span class="code-keyword">public class</span> <span class="code-type">BetaUpgrade</span> : <span class="code-type">ScriptableObject</span>
{
    [<span class="code-attribute">Header</span>(<span class="code-string">"å¼·åŒ–ã®æƒ…å ±"</span>)]
    <span class="code-keyword">public int</span> upgradeID; <span class="code-comment">// ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªID</span>
    <span class="code-keyword">public string</span> title; <span class="code-comment">// ã‚¿ã‚¤ãƒˆãƒ«</span>
    <span class="code-keyword">public double</span> needBetaFactor; <span class="code-comment">// è§£æ”¾ã«å¿…è¦ãªBetaFactorã®æ•°</span>
    [<span class="code-attribute">TextArea</span>]
    <span class="code-keyword">public string</span> description; <span class="code-comment">// èª¬æ˜</span>

    [<span class="code-attribute">Header</span>(<span class="code-string">"å‰æã¨ãªã‚‹å¼·åŒ–"</span>)]
    <span class="code-keyword">public</span> <span class="code-type">List&lt;BetaUpgrade&gt;</span> preRequiredUpgrade;

    <span class="code-comment">// ä»¥ä¸‹ã€å¿…è¦ãªå¤‰æ•°ã‚’æº–å‚™</span>
}</code></pre>
                    </div>
                    <div class="code-explanation">
                        <h3>è§£èª¬</h3>
                        <p>
                            <span class="code-inline">BetaUpgrade</span> ã¯ã€Betaã‚¹ãƒ†ãƒ¼ã‚¸ã«ãŠã‘ã‚‹ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆå¼·åŒ–ï¼‰ã®å®šç¾©ã‚’è¡Œã†ãŸã‚ã® ScriptableObject ã§ã™ã€‚
                            å„ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®æƒ…å ±ï¼ˆIDã€ã‚¿ã‚¤ãƒˆãƒ«ã€å¿…è¦ã‚³ã‚¹ãƒˆã€èª¬æ˜æ–‡ï¼‰ã‚’Unityã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã‹ã‚‰è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
                        </p>
                        <p>
                            <span class="code-inline">BetaUpgradeStatus</span> enum ã«ã‚ˆã‚Šã€å„ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®çŠ¶æ…‹ã‚’ã€Œæœªé–‹æ”¾ã€ã€Œè§£æ”¾å¯èƒ½ã€ã€Œè§£æ”¾æ¸ˆã¿ã€ã®3æ®µéšã§ç®¡ç†ã—ã¾ã™ã€‚
                            ã¾ãŸã€<span class="code-inline">preRequiredUpgrade</span> ãƒªã‚¹ãƒˆã«ã‚ˆã‚Šã€ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®å‰ææ¡ä»¶ã¨ãªã‚‹ä»–ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’è¨­å®šã§ãã€
                            ã‚¹ã‚­ãƒ«ãƒ„ãƒªãƒ¼å½¢å¼ã®ã‚¢ãƒ³ãƒ­ãƒƒã‚¯æ§‹é€ ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚
                        </p>
                        <div class="code-highlights">
                            <div class="code-highlight-item">
                                <span class="highlight-icon">ğŸ’¡</span>
                                <span class="highlight-text"><strong>ScriptableObject ã®æ´»ç”¨ï¼š</strong>ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰åˆ†é›¢ã—ã€Unityã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§ç›´æ„Ÿçš„ã«è¨­å®šãƒ»ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</span>
                            </div>
                            <div class="code-highlight-item">
                                <span class="highlight-icon">ğŸ”—</span>
                                <span class="highlight-text"><strong>å‰ææ¡ä»¶ã‚·ã‚¹ãƒ†ãƒ ï¼š</strong><span class="code-inline">preRequiredUpgrade</span> ã§ä»–ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã§ã€æ®µéšçš„ãªã‚¢ãƒ³ãƒ­ãƒƒã‚¯æ§‹é€ ã‚’æŸ”è»Ÿã«æ§‹ç¯‰å¯èƒ½ã«ã—ã¾ã—ãŸã€‚</span>
                            </div>
                            <div class="code-highlight-item">
                                <span class="highlight-icon">âš™ï¸</span>
                                <span class="highlight-text"><strong>enum ã«ã‚ˆã‚‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ï¼š</strong>3ã¤ã®çŠ¶æ…‹ã‚’æ˜ç¢ºã«å®šç¾©ã—ã€ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®é€²è¡ŒçŠ¶æ³ã‚’å‹å®‰å…¨ã«ç®¡ç†ã—ã¾ã—ãŸã€‚</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ 2: SavePlayerData.cs -->
                <div class="code-block-wrapper">
                    <div class="code-block-header" onclick="toggleCodeBlock(event)">
                        <div class="code-block-toggle">
                            <span class="code-toggle-icon">â–¼</span>
                            <span class="filename">SavePlayerData.cs</span>
                        </div>
                        <span class="language-badge">C#</span>
                    </div>
                    <div class="code-block-body">
<pre><code><span class="code-keyword">using</span> System;
<span class="code-keyword">using</span> System.Collections.Generic;
<span class="code-keyword">using</span> System.IO;
<span class="code-keyword">using</span> Unity.VisualScripting;
<span class="code-keyword">using</span> UnityEngine;
<span class="code-keyword">using</span> UnityEngine.Rendering;
<span class="code-keyword">using</span> System.Linq;

[<span class="code-attribute">Serializable</span>]
<span class="code-keyword">public class</span> <span class="code-type">SaveData</span>
{
    <span class="code-keyword">public double</span> AlphaFactorForCalc;
    <span class="code-keyword">public double</span> AlphaFactorExp;
    <span class="code-keyword">public bool</span> IsAlphaOverflowCollapsed;
    <span class="code-keyword">public double</span> AlphaOverflowCount;

    <span class="code-keyword">public bool</span> IsArrivedBeta;
    <span class="code-keyword">public double</span> AllBFGetInThisTerm;
    <span class="code-keyword">public double</span> BetaFactorForCalc;
    <span class="code-keyword">public double</span> BetaNum;
    <span class="code-keyword">public double</span> BetaFactorExp;
    <span class="code-keyword">public double</span> BetaFactorUsedInAmplification;
    <span class="code-keyword">public bool</span> IsBetaOverflowCollapsed;
    <span class="code-keyword">public double</span> BetaOverflowCount;

    <span class="code-keyword">public bool</span> IsUpgrade0Completed;
    <span class="code-keyword">public bool</span> IsUpgrade5Completed;
    <span class="code-keyword">public bool</span> IsUpgrade6Completed;
    <span class="code-keyword">public bool</span> IsUpgrade7Completed;
    <span class="code-keyword">public bool</span> IsUpgrade8Completed;
    <span class="code-keyword">public bool</span> IsUpgrade9Completed;
    <span class="code-keyword">public bool</span> IsUpgrade10Completed;
    <span class="code-keyword">public bool</span> IsUpgrade11Completed;

    <span class="code-keyword">public int</span> LatestCompletedMissionID;

    <span class="code-keyword">public double</span> BetaBankAmount;
    <span class="code-keyword">public double</span> BetaBankInterestRate;

    <span class="code-keyword">public</span> <span class="code-method">SaveData</span>()
    {
        AlphaFactorForCalc = <span class="code-number">0.0</span>;
        AlphaOverflowCount = <span class="code-number">0.0</span>;
        AlphaFactorExp = <span class="code-number">1.0</span>;

        AllBFGetInThisTerm = <span class="code-number">0.0</span>;
        BetaFactorForCalc = <span class="code-number">0.0</span>;
        BetaNum = <span class="code-number">0.0</span>;
        BetaFactorExp = <span class="code-number">1.0</span>;
        BetaFactorUsedInAmplification = <span class="code-number">0.0</span>;
        BetaOverflowCount = <span class="code-number">0.0</span>;

        LatestCompletedMissionID = <span class="code-number">0</span>;

        BetaBankAmount = <span class="code-number">0.0</span>;
        BetaBankInterestRate = <span class="code-number">0.0001</span>;
    }
}

[<span class="code-attribute">Serializable</span>]
<span class="code-keyword">public class</span> <span class="code-type">BetaUpgradeClassWrapper</span>
{
    <span class="code-keyword">public</span> <span class="code-type">List&lt;int&gt;</span> CompleteBetaUpgradeIDs;
}

[<span class="code-attribute">Serializable</span>]
<span class="code-keyword">public class</span> <span class="code-type">GameSaveData</span>
{
    <span class="code-keyword">public</span> <span class="code-type">SaveData</span> mainData;
    <span class="code-keyword">public</span> <span class="code-type">BetaUpgradeClassWrapper</span> betaUpgradeData;
}

<span class="code-keyword">public class</span> <span class="code-type">SavePlayerData</span> : <span class="code-type">MonoBehaviour</span>
{
    <span class="code-keyword">public</span> <span class="code-type">SaveData</span> Data { <span class="code-keyword">get</span>; <span class="code-keyword">private set</span>; }
    <span class="code-keyword">public</span> <span class="code-type">BetaUpgradeClassWrapper</span> BetaWrapper { <span class="code-keyword">get</span>; <span class="code-keyword">private set</span>; }

    <span class="code-keyword">private string</span> _saveDataFilePath;
    <span class="code-keyword">private string</span> _saveDataFileName = <span class="code-string">"PlayerData.json"</span>;

    <span class="code-keyword">private void</span> <span class="code-method">Awake</span>()
    {
        Data = <span class="code-keyword">new</span> <span class="code-type">SaveData</span>();
        BetaWrapper = <span class="code-keyword">new</span> <span class="code-type">BetaUpgradeClassWrapper</span>();
        BetaWrapper.CompleteBetaUpgradeIDs = <span class="code-keyword">new</span> <span class="code-type">List&lt;int&gt;</span>();

        _saveDataFilePath = <span class="code-type">Path</span>.<span class="code-method">Combine</span>(<span class="code-type">Application</span>.persistentDataPath, _saveDataFileName);

        <span class="code-keyword">if</span> (<span class="code-type">File</span>.<span class="code-method">Exists</span>(_saveDataFilePath))
        {
            <span class="code-method">Load</span>();
        }
    }

    <span class="code-keyword">private void</span> <span class="code-method">Start</span>()
    {
        <span class="code-keyword">if</span> (!<span class="code-type">File</span>.<span class="code-method">Exists</span>(_saveDataFilePath))
        {
            <span class="code-method">Save</span>();
        }
        <span class="code-type">GameManager</span>.Instance.<span class="code-method">InitializeDataFromJson</span>(Data);
        <span class="code-type">BetaUpgradeManager</span>.Instance.<span class="code-method">InitializeFromSaveData</span>(BetaWrapper.CompleteBetaUpgradeIDs);
        <span class="code-type">BetaMissionManager</span>.Instance.<span class="code-method">SetMissionsFromSaveData</span>(Data);
        <span class="code-type">BetaBankManager</span>.Instance.<span class="code-method">InitializeFromSaveData</span>(Data.BetaBankAmount, Data.BetaBankInterestRate);
    }

    <span class="code-keyword">private void</span> <span class="code-method">Save</span>() <span class="code-comment">// jsonã«ã™ã‚‹
    </span>
    {
        <span class="code-type">GameSaveData</span> gameSaveData = <span class="code-keyword">new</span> <span class="code-type">GameSaveData</span>
        {
            mainData = Data,
            betaUpgradeData = BetaWrapper
        };

        <span class="code-keyword">string</span> json = <span class="code-type">JsonUtility</span>.<span class="code-method">ToJson</span>(gameSaveData, <span class="code-keyword">true</span>);

        <span class="code-type">File</span>.<span class="code-method">WriteAllText</span>(_saveDataFilePath, json);
    }

    <span class="code-keyword">private void</span> <span class="code-method">Load</span>() <span class="code-comment">// jsonã‹ã‚‰ã‚ˆã‚€</span>
    {
        <span class="code-keyword">string</span> json = <span class="code-type">File</span>.<span class="code-method">ReadAllText</span>(_saveDataFilePath);

        <span class="code-type">GameSaveData</span> loadedData = <span class="code-type">JsonUtility</span>.<span class="code-method">FromJson&lt;GameSaveData&gt;</span>(json);

        Data = loadedData.mainData;
        BetaWrapper = loadedData.betaUpgradeData;

        <span class="code-keyword">if</span> (Data == <span class="code-keyword">null</span>) Data = <span class="code-keyword">new</span> <span class="code-type">SaveData</span>();
        <span class="code-keyword">if</span> (BetaWrapper == <span class="code-keyword">null</span>)
        {
            BetaWrapper = <span class="code-keyword">new</span> <span class="code-type">BetaUpgradeClassWrapper</span>();
            BetaWrapper.CompleteBetaUpgradeIDs = <span class="code-keyword">new</span> <span class="code-type">List&lt;int&gt;</span>();
        }
    }

    <span class="code-keyword">public void</span> <span class="code-method">SaveUserData</span>()
    {
        <span class="code-method">SaveVariables</span>(Data, BetaWrapper);
        <span class="code-method">Save</span>();
        <span class="code-method">Debug.Log</span>(<span class="code-string">"userdata is saved to: "</span> + _saveDataFilePath);
    }

    <span class="code-keyword">private void</span> <span class="code-method">SaveVariables</span>(<span class="code-type">SaveData</span> saveData, <span class="code-type">BetaUpgradeClassWrapper</span> betaUpgradeClassWrapper) // ãƒ‡ãƒ¼ã‚¿ã‚’GameManagerã¨ã‹ã‹ã‚‰ã¨ã£ã¦ãã‚‹
    {
        saveData.AlphaFactorForCalc = <span class="code-type">GameManager</span>.Instance.AlphaFactorForCalc;
        saveData.AlphaFactorExp = <span class="code-type">GameManager</span>.Instance.AlphaFactorExp;
        saveData.IsAlphaOverflowCollapsed = <span class="code-type">GameManager</span>.Instance.IsAlphaOverflowCollapsed;
        saveData.AlphaOverflowCount = <span class="code-type">GameManager</span>.Instance.AlphaOverflowCount;

        saveData.IsArrivedBeta = <span class="code-type">GameManager</span>.Instance.IsArrivedBeta;
        saveData.AllBFGetInThisTerm = <span class="code-type">GameManager</span>.Instance.AllBetaFactorGetInThisTerm;
        saveData.BetaFactorForCalc = <span class="code-type">GameManager</span>.Instance.BetaFactorForCalc;
        saveData.BetaNum = <span class="code-type">GameManager</span>.Instance.BetaNum;
        saveData.BetaFactorExp = <span class="code-type">GameManager</span>.Instance.BetaFactorExp;
        saveData.BetaFactorUsedInAmplification = <span class="code-type">GameManager</span>.Instance.BetaFactorUsedInAmplification;
        saveData.IsBetaOverflowCollapsed = <span class="code-type">GameManager</span>.Instance.IsBetaOverflowCollapsed;
        saveData.BetaOverflowCount = <span class="code-type">GameManager</span>.Instance.BetaOverflowCount;

        saveData.IsUpgrade0Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade0Completed;
        saveData.IsUpgrade5Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade5Completed;
        saveData.IsUpgrade6Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade6Completed;
        saveData.IsUpgrade7Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade7Completed;
        saveData.IsUpgrade8Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade8Completed;
        saveData.IsUpgrade9Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade9Completed;
        saveData.IsUpgrade10Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade10Completed;
        saveData.IsUpgrade11Completed = <span class="code-type">BetaUpgradeManager</span>.Instance.IsUpgrade11Completed;

        saveData.LatestCompletedMissionID = <span class="code-type">BetaMissionManager</span>.Instance.LatestCompletedMissionID;

        <span class="code-comment">// BetaUpgradeStatuses ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã®ä¸­ã‹ã‚‰ã€</span>
        <span class="code-comment">// å€¤(Value)ãŒ Completed ã§ã‚ã‚‹ã‚‚ã®ã ã‘ã‚’æŠ½å‡ºã—(Where)ã€</span>
        <span class="code-comment">// ãã®ã‚­ãƒ¼(Key)ã ã‘ã‚’é¸æŠã—ã¦(Select)ã€</span>
        <span class="code-comment">// æ–°ã—ã„ãƒªã‚¹ãƒˆã¨ã—ã¦(ToList)ä»£å…¥ã™ã‚‹ã€‚</span>
        betaUpgradeClassWrapper.CompleteBetaUpgradeIDs = <span class="code-type">BetaUpgradeManager</span>.Instance.BetaUpgradeStatuses
            .<span class="code-method">Where</span>(pair =&gt; pair.Value == <span class="code-type">BetaUpgradeStatus</span>.Completed)
            .<span class="code-method">Select</span>(pair =&gt; pair.Key)
            .<span class="code-method">ToList</span>();

        saveData.BetaBankAmount = <span class="code-type">BetaBankManager</span>.Instance.CurrentBetaBankAmount;
        saveData.BetaBankInterestRate = <span class="code-type">BetaBankManager</span>.Instance.InterestRate;
    }
}</code></pre>
                    </div>
                    <div class="code-explanation">
                        <h3>è§£èª¬</h3>
                        <p>
                            <span class="code-inline">SavePlayerData</span> ã¯ã€ã‚²ãƒ¼ãƒ ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ã™ã‚‹ã‚»ãƒ¼ãƒ–ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚
                            <span class="code-inline">SaveData</span> ã‚¯ãƒ©ã‚¹ã«Alphaãƒ»Betaã‚¹ãƒ†ãƒ¼ã‚¸ã®é€²è¡ŒçŠ¶æ³ã‚„ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®é”æˆçŠ¶æ…‹ã€ãƒŸãƒƒã‚·ãƒ§ãƒ³é€²æ—ãªã©ã‚’ä¿æŒã—ã€
                            <span class="code-inline">JsonUtility</span> ã‚’ä½¿ã£ã¦ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º/ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã‚’è¡Œã„ã¾ã™ã€‚
                        </p>
                        <p>
                            <span class="code-inline">Awake</span> ã§ã‚»ãƒ¼ãƒ–ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ã‚’ç¢ºèªã—ã€ã‚ã‚Œã°ãƒ­ãƒ¼ãƒ‰ã€‚
                            <span class="code-inline">Start</span> ã§ã¯èª­ã¿è¾¼ã‚“ã ãƒ‡ãƒ¼ã‚¿ã‚’å„ãƒãƒãƒ¼ã‚¸ãƒ£ã‚¯ãƒ©ã‚¹ã«æ¸¡ã—ã¦åˆæœŸåŒ–ã‚’è¡Œã„ã¾ã™ã€‚
                            <span class="code-inline">SaveVariables</span> ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯å„ãƒãƒãƒ¼ã‚¸ãƒ£ã‹ã‚‰æœ€æ–°ã®å€¤ã‚’åé›†ã—ã€ä¿å­˜ç”¨ãƒ‡ãƒ¼ã‚¿ã«åæ˜ ã—ã¾ã™ã€‚
                        </p>
                        <p>
                            ç¾åœ¨ã€ãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“æ€§ã®ãŸã‚ã«ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã¯æš—å·åŒ–ã—ã¦ã„ã¾ã›ã‚“ãŒã€å°†æ¥çš„ã«ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’è€ƒæ…®ã—ã¦æš—å·åŒ–ã™ã‚‹ã“ã¨ã‚‚æ¤œè¨ã—ã¦ã„ã¾ã™ã€‚
                        </p>
                        <div class="code-highlights">
                            <div class="code-highlight-item">
                                <span class="highlight-icon">ğŸ’¡</span>
                                <span class="highlight-text"><strong>JSON ã«ã‚ˆã‚‹ã‚»ãƒ¼ãƒ–ã‚·ã‚¹ãƒ†ãƒ ï¼š</strong><span class="code-inline">JsonUtility</span> ã‚’ä½¿ã„ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦æ°¸ç¶šåŒ–ã—ã¾ã™ã€‚</span>
                            </div>
                            <div class="code-highlight-item">
                                <span class="highlight-icon">ğŸ§©</span>
                                <span class="highlight-text"><strong>ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®åˆ†é›¢ï¼š</strong><span class="code-inline">SaveData</span>ã€<span class="code-inline">BetaUpgradeClassWrapper</span>ã€<span class="code-inline">GameSaveData</span> ã¨å½¹å‰²ã”ã¨ã«ã‚¯ãƒ©ã‚¹ã‚’åˆ†é›¢ã—ã€æ‹¡å¼µæ€§ã‚’ç¢ºä¿ã—ã¾ã—ãŸã€‚</span>
                            </div>
                            <div class="code-highlight-item">
                                <span class="highlight-icon">ğŸ“Š</span>
                                <span class="highlight-text"><strong>LINQ ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºï¼š</strong><span class="code-inline">SaveVariables</span> ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§ LINQ ã‚’æ´»ç”¨ã—ã€å®Œäº†æ¸ˆã¿ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®IDã ã‘ã‚’ç°¡æ½”ã«æŠ½å‡ºã—ã¦ã„ã¾ã™ã€‚</span>
                            </div>
                            <div class="code-highlight-item">
                                <span class="highlight-icon">ğŸ›¡ï¸</span>
                                <span class="highlight-text"><strong>null å®‰å…¨ãªãƒ­ãƒ¼ãƒ‰å‡¦ç†ï¼š</strong>ãƒ­ãƒ¼ãƒ‰æ™‚ã« <span class="code-inline">null</span> ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã€ãƒ‡ãƒ¼ã‚¿ç ´ææ™‚ã¾ãŸã¯åˆå›èµ·å‹•æ™‚ã§ã‚‚å®‰å…¨ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§åˆæœŸåŒ–ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="detail-footer">
        <div class="container">
            <p>&copy; 2026 nonor102. All rights reserved.</p>
        </div>
    </footer>

    <script>
        function changeImage(thumb) {
            document.getElementById('mainImage').src = thumb.src;
            document.querySelectorAll('.gallery-thumbs img').forEach(img => img.classList.remove('active'));
            thumb.classList.add('active');
        }

        function toggleCodeBlock(event) {
            const header = event.currentTarget;
            const wrapper = header.closest('.code-block-wrapper');
            wrapper.classList.toggle('collapsed');
        }
    </script>
    </script>
</body>
</html>
